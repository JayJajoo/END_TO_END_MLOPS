schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data_ingestion.py
    deps:
    - path: src/data_ingestion.py
      hash: md5
      md5: 79d121c9a6daa20195e1af8467448c4a
      size: 1768
    outs:
    - path: data/test.csv
      hash: md5
      md5: 95f857168039f9cbb331b8d3be660f38
      size: 648
    - path: data/train.csv
      hash: md5
      md5: 91dd257ee69a81c95eab961cce93b5ba
      size: 2358
  model_training:
    cmd: python .\src\train.py
    deps:
    - path: .\data\test.csv
      hash: md5
      md5: 95f857168039f9cbb331b8d3be660f38
      size: 648
    - path: .\data\train.csv
      hash: md5
      md5: 91dd257ee69a81c95eab961cce93b5ba
      size: 2358
    - path: .\src\train.py
      hash: md5
      md5: 8f21cc9083a3510362d9367cf81c7c70
      size: 5429
    params:
      params.yaml:
        global_variables.tracking_uri: 
          https://dagshub.com/JayJajoo/END_TO_END_MLOPS.mlflow
        training.hyper_params.colsample_bytree:
        - 0.7
        - 0.9
        - 1.0
        training.hyper_params.gamma:
        - 0
        - 1
        - 5
        training.hyper_params.learning_rate:
        - 0.01
        - 0.05
        - 0.1
        training.hyper_params.max_depth:
        - 3
        - 5
        - 7
        training.hyper_params.min_child_weight:
        - 1
        - 3
        - 5
        training.hyper_params.n_estimators:
        - 100
        - 200
        - 500
        training.hyper_params.reg_alpha:
        - 0
        - 1
        training.hyper_params.reg_lambda:
        - 1
        - 10
        training.hyper_params.subsample:
        - 0.8
        - 1.0
        training.random_state: 42
    outs:
    - path: .\model\xgb_model.pkl
      hash: md5
      md5: 048f6c1d62625c2df2d70ddc2df0dede
      size: 1121966
    - path: .\reports\confusion_matrix.png
      hash: md5
      md5: 82636df70f12a72c2ed68530419a4f12
      size: 15298
    - path: .\reports\final_metrics.json
      hash: md5
      md5: 735afe236d4acf6e842b3a202f11bff6
      size: 131
    - path: .\reports\model_info.json
      hash: md5
      md5: 4607fc275821c057cd84be319ec0f932
      size: 287
  model_evaluation:
    cmd: python .\src\eval.py
    deps:
    - path: .\reports\final_metrics.json
      hash: md5
      md5: 735afe236d4acf6e842b3a202f11bff6
      size: 131
    - path: .\reports\model_info.json
      hash: md5
      md5: 4607fc275821c057cd84be319ec0f932
      size: 287
    - path: .\src\eval.py
      hash: md5
      md5: c27aaed2e49b9ee576d334e3f663d964
      size: 1785
    params:
      params.yaml:
        global_variables.tracking_uri: 
          https://dagshub.com/JayJajoo/END_TO_END_MLOPS.mlflow
